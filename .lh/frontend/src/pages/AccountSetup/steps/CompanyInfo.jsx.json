{
    "sourceFile": "frontend/src/pages/AccountSetup/steps/CompanyInfo.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1765553306930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1765553442140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,36 +27,80 @@\n       <h2 className=\"text-lg font-semibold mb-4\">Logo & Banner</h2>\r\n \r\n       <div className=\"grid grid-cols-3 gap-6 items-start\">\r\n         <div>\r\n-          <label className=\"block text-sm text-gray-600 mb-2\">Upload Logo</label>\r\n+          <label className=\"block text-sm text-gray-600 mb-2\">\r\n+            Upload Logo\r\n+          </label>\r\n           <div className=\"relative border-dashed border-2 border-gray-200 rounded p-4 flex items-center justify-center\">\r\n-            {data.logo ? <img src={data.logo} alt=\"logo\" className=\"max-h-20\" /> : <div className=\"text-gray-400 text-sm\">Browse photo or drop here</div>}\r\n-            <input type=\"file\" accept=\"image/*\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => onFile(e, \"logo\")} />\r\n+            {data.logo ? (\r\n+              <img src={data.logo} alt=\"logo\" className=\"max-h-20\" />\r\n+            ) : (\r\n+              <div className=\"text-gray-400 text-sm\">\r\n+                Browse photo or drop here\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              accept=\"image/*\"\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+              onChange={(e) => onFile(e, \"logo\")}\r\n+            />\r\n           </div>\r\n         </div>\r\n \r\n         <div className=\"col-span-2\">\r\n-          <label className=\"block text-sm text-gray-600 mb-2\">Banner Image</label>\r\n+          <label className=\"block text-sm text-gray-600 mb-2\">\r\n+            Banner Image\r\n+          </label>\r\n           <div className=\"relative border-dashed border-2 border-gray-200 rounded p-6 flex items-center justify-center\">\r\n-            {data.banner ? <img src={data.banner} alt=\"banner\" className=\"w-full max-h-40 object-cover\" /> : <div className=\"text-gray-400\">Browse photo or drop here (recommended 1520x400)</div>}\r\n-            <input type=\"file\" accept=\"image/*\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => onFile(e, \"banner\")} />\r\n+            {data.banner ? (\r\n+              <img\r\n+                src={data.banner}\r\n+                alt=\"banner\"\r\n+                className=\"w-full max-h-40 object-cover\"\r\n+              />\r\n+            ) : (\r\n+              <div className=\"text-gray-400\">\r\n+                Browse photo or drop here (recommended 1520x400)\r\n+              </div>\r\n+            )}\r\n+            <input\r\n+              type=\"file\"\r\n+              accept=\"image/*\"\r\n+              className=\"absolute inset-0 opacity-0 cursor-pointer\"\r\n+              onChange={(e) => onFile(e, \"banner\")}\r\n+            />\r\n           </div>\r\n         </div>\r\n       </div>\r\n \r\n       <div className=\"mt-6\">\r\n         <label className=\"block text-sm text-gray-600\">Company name</label>\r\n-        <input value={data.companyName} onChange={(e)=>update({companyName: e.target.value})} className=\"w-full border rounded p-2 mt-1\" />\r\n+        <input\r\n+          value={data.companyName}\r\n+          onChange={(e) => update({ companyName: e.target.value })}\r\n+          className=\"w-full border rounded p-2 mt-1\"\r\n+        />\r\n       </div>\r\n \r\n       <div className=\"mt-4\">\r\n         <label className=\"block text-sm text-gray-600\">About Us</label>\r\n-        <textarea value={data.about} onChange={(e)=>update({about: e.target.value})} className=\"w-full border rounded p-2 mt-1 h-28\" placeholder=\"Write about your company...\" />\r\n+        <textarea\r\n+          value={data.about}\r\n+          onChange={(e) => update({ about: e.target.value })}\r\n+          className=\"w-full border rounded p-2 mt-1 h-28\"\r\n+          placeholder=\"Write about your company...\"\r\n+        />\r\n       </div>\r\n \r\n       <div className=\"mt-6 flex gap-4\">\r\n-        <button onClick={next} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Save & Next →</button>\r\n+        <button\r\n+          onClick={next}\r\n+          className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n+        >\r\n+          Save & Next →\r\n+        </button>\r\n       </div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1765553589994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,9 +18,8 @@\n       // revoke preview on unmount (avoids memory leaks)\r\n       if (data.logo) URL.revokeObjectURL(data.logo);\r\n       if (data.banner) URL.revokeObjectURL(data.banner);\r\n     };\r\n-    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n   }, []);\r\n \r\n   return (\r\n     <div>\r\n"
                }
            ],
            "date": 1765553306930,
            "name": "Commit-0",
            "content": "import React, { useRef, useEffect } from \"react\";\r\n\r\nexport default function CompanyInfo({ data, update, next }) {\r\n  const logoFileRef = useRef(null);\r\n  const bannerFileRef = useRef(null);\r\n\r\n  const onFile = (e, key) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    const url = URL.createObjectURL(file);\r\n    update({ [key]: url }); // store plain string\r\n    if (key === \"logo\") logoFileRef.current = file;\r\n    if (key === \"banner\") bannerFileRef.current = file;\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      // revoke preview on unmount (avoids memory leaks)\r\n      if (data.logo) URL.revokeObjectURL(data.logo);\r\n      if (data.banner) URL.revokeObjectURL(data.banner);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-lg font-semibold mb-4\">Logo & Banner</h2>\r\n\r\n      <div className=\"grid grid-cols-3 gap-6 items-start\">\r\n        <div>\r\n          <label className=\"block text-sm text-gray-600 mb-2\">Upload Logo</label>\r\n          <div className=\"relative border-dashed border-2 border-gray-200 rounded p-4 flex items-center justify-center\">\r\n            {data.logo ? <img src={data.logo} alt=\"logo\" className=\"max-h-20\" /> : <div className=\"text-gray-400 text-sm\">Browse photo or drop here</div>}\r\n            <input type=\"file\" accept=\"image/*\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => onFile(e, \"logo\")} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-span-2\">\r\n          <label className=\"block text-sm text-gray-600 mb-2\">Banner Image</label>\r\n          <div className=\"relative border-dashed border-2 border-gray-200 rounded p-6 flex items-center justify-center\">\r\n            {data.banner ? <img src={data.banner} alt=\"banner\" className=\"w-full max-h-40 object-cover\" /> : <div className=\"text-gray-400\">Browse photo or drop here (recommended 1520x400)</div>}\r\n            <input type=\"file\" accept=\"image/*\" className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={(e) => onFile(e, \"banner\")} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6\">\r\n        <label className=\"block text-sm text-gray-600\">Company name</label>\r\n        <input value={data.companyName} onChange={(e)=>update({companyName: e.target.value})} className=\"w-full border rounded p-2 mt-1\" />\r\n      </div>\r\n\r\n      <div className=\"mt-4\">\r\n        <label className=\"block text-sm text-gray-600\">About Us</label>\r\n        <textarea value={data.about} onChange={(e)=>update({about: e.target.value})} className=\"w-full border rounded p-2 mt-1 h-28\" placeholder=\"Write about your company...\" />\r\n      </div>\r\n\r\n      <div className=\"mt-6 flex gap-4\">\r\n        <button onClick={next} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Save & Next →</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}